<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://www.layuicdn.com/layui/css/layui.css">
    <script src="https://www.layuicdn.com/layui/layui.js"></script>
    <title>备案申请</title>
    <style>
        .formdata{
            width: 645px;
            margin: 25px auto;
        }
        #layer_ctname,#layer_teacher1Id,#layer_teacher2Id{
            display: none;
        }
        .disappear{
            display: none;
        }
        #get_tname{
            display: block;
            width: 100%;
            padding-left: 10px;
            border-color: #e6e6e6;
            text-align: left;
        }
        #search{
            margin-left:30px;
        }
        .layui-form-pane .layui-form-label {
            width: 110px;
            padding: 8px 15px;
            height: 38px;
            line-height: 20px;
            border-width: 1px;
            border-style: solid;
            border-radius: 2px 0 0 2px;
            text-align: center;
            background-color: #FBFBFB;
            overflow: visible;
            box-sizing: border-box;
        }
        .layui-inline[style*='right']{
            margin-right: 0px;
        }
        .layui-input:focus, .layui-textarea:focus{
            border-color:#5FB878!important
        }
    </style>
</head>
<body>
弹出层：比赛名称
<div id="layer_ctname">
    <form class="layui-form" action="" style="margin-top: 20px">
        <label class="layui-form-label">关键词：</label>
        <div class="layui-inline">
            <input class="layui-input" name="search_ctname" id="search_ctname" autocomplete="off" placeholder="请输入比赛名称的关键词">
        </div>
        <button type="button" class="layui-btn" data-type="reload" id="search">搜索</button>
        <button type="reset" class="layui-btn">重置</button>
    </form>
    <table class="layui-hide" id="layer_com_table" lay-filter="layer_com_table"></table>
</div>

<!--弹出层：指导老师1编号-->
<div id="layer_teacher1Id">
    <form class="layui-form" action="" style="margin-top: 20px">

        <label class="layui-form-label">教师编号：</label>
        <div class="layui-inline">
            <input class="layui-input" name="search_tno" id="search_tno" autocomplete="off" placeholder="" >
        </div>

        教师姓名：
        <div class="layui-inline">
            <input class="layui-input" name="search_tname" id="search_tname" autocomplete="off" placeholder="">
        </div>
        <br>

        <label class="layui-form-label">教师所属部门：</label>
        <div class="layui-inline">
            <input class="layui-input" name="search_tname" id="search_dno" autocomplete="off" placeholder="" >
        </div>

        教师职称：
        <div class="layui-inline">
            <input class="layui-input" name="search_ttitle" id="search_ttitle" autocomplete="off" placeholder="">
        </div>
        <br>
        <button type="button" class="layui-btn" data-type="reload" id="search_teacher1Id">搜索</button>
        <button type="reset" class="layui-btn">重置</button>
    </form>
    <table class="layui-hide" id="layer_teacher1Id_table" lay-filter="layer_teacher1Id_table"></table>
</div>

<!--弹出层：指导老师2编号-->
<div id="layer_teacher2Id">
    <form class="layui-form" action="" style="margin-top: 20px">

        <label class="layui-form-label">教师编号：</label>
        <div class="layui-inline">
            <input class="layui-input" name="search_tno" id="search_tno2" autocomplete="off" placeholder="" >
        </div>

        教师姓名：
        <div class="layui-inline">
            <input class="layui-input" name="search_tname" id="search_tname2" autocomplete="off" placeholder="">
        </div>
        <br>

        <label class="layui-form-label">教师所属部门：</label>
        <div class="layui-inline">
            <input class="layui-input" name="search_tname" id="search_dno2" autocomplete="off" placeholder="" >
        </div>

        教师职称：
        <div class="layui-inline">
            <input class="layui-input" name="search_ttitle" id="search_ttitle2" autocomplete="off" placeholder="">
        </div>
        <br>
        <button type="button" class="layui-btn" data-type="reload" id="search_teacher2Id">搜索</button>
        <button type="reset" class="layui-btn">重置</button>
    </form>
    <table class="layui-hide" id="layer_teacher2Id_table" lay-filter="layer_teacher2Id_table"></table>
</div>

<div class="formdata layui-row">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">
        <legend>学科竞赛备案申报表</legend>
    </fieldset>
    <form action="POST" class="layui-form layui-form-pane">
        <!-- 竞赛信息 -->
        <div class="layui-form-item">
            <div class="layui-inline">
                <label class="layui-form-label" >比赛名称<span style="color: red">*</span></label>
                <div class="layui-input-block" id="layerDemo_ctname">
                    <input type="text" lay-verify="required" class="layui-btn layui-btn-primary" name="comName" id="get_tname" data-method="offset" autocomplete="off" data-type="t" lay-filter="comName" placeholder="请输入比赛名称">
                </div>
            </div>
        <!-- 参赛年份 -->
            <div class="layui-inline ">
                <label class="layui-form-label">参赛日期<span style="color: red">*</span></label>
                <div class="layui-input-block">
                    <input type="text" class="layui-input layui-btn layui-btn-primary" lay-verify="required" id="cyear" name="cyear">
                </div>
            </div>
        </div>


        <!-- 类别型号编号（0省赛，1国赛 -->
        <div class="layui-form-item">
            <div class="layui-inline">
                <label class="layui-form-label">类别型号<span style="color: red">*</span></label>
                <div class="layui-input-block">
                    <select name="leibie" lay-search lay-verify="required" >
                        <option value="" selected>请选择</option>
                        <option value="0">省赛</option>
                        <option value="1">国赛</option>
                    </select>
                </div>
            </div>


        <!-- 竞赛信息描述 -->
        <!-- <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">文本域</label>
            <div class="layui-input-block">
                <textarea name="desc" placeholder="请输入内容" class="layui-textarea"></textarea>
            </div>
        </div> -->
        <!-- 原则上应该通过判断是否是团队赛给出选项，但是考虑到一个代表报销
        一批人的例子，所以这里即使是个人赛也展示，至于数据统计，可以额外建表 -->
        <!-- 团队负责人：外键 -->
            <div class="layui-inline">
                <label class="layui-form-label">负责人</label>
                <div class="layui-input-block">
                    <input type="text" name="title"  placeholder="请输入负责人" autocomplete="off" class="layui-input">
                </div>
            </div>
        </div>
        <!-- 团队名称，判断 -->
        <div class="layui-form-item">
            <label class="layui-form-label">团队名称</label>
            <div class="layui-input-block">
                <input type="text" name="title" placeholder="请输入团队名称" autocomplete="off" class="layui-input">
            </div>
        </div>
        <!-- 指导老师1 外键，可以为空-->
        <div class="layui-form-item">
            <div class="layui-inline ">
                <label class="layui-form-label">指导老师1</label>
                <div class="layui-input-block" id="layerDemo_teacher1Id">
                    <input type="text" name="teacher1Id" id="get_teacher1Id"  data-method="offset" data-type="t" autocomplete="off" class="layui-input layui-btn layui-btn-primary">
                </div>
            </div>
            <div class="layui-inline" style="float: right;">
                <label class="layui-form-label">指导老师2</label>
                <div class="layui-input-block">
                    <input type="text" name="teacher2Id" id="get_teacher2Id"  data-method="offset" data-type="t" autocomplete="off" class="layui-input layui-btn layui-btn-primary">
                </div>
            </div>
        </div>
        <!-- 成果类型，如果她们给了，那么这里就默认选定，并且锁定，否则就用户选 -->
        <div class="layui-form-item">
            <div class="layui-form-label">成果类型<span style="color: red">*</span></div>
            <div class="layui-input-block">
                <select name="leibie" lay-verify="required" lay-search>
                    <option value="" selected>请选择</option>
                    <option value="0">作品</option>
                    <option value="1">考试</option>
                </select>
            </div>
        </div>

        <!-- 参赛作品名：这里判断成果类型作为依据是否出现 -->
        <div class="layui-form-item" id="div_workName">
            <label class="layui-form-label">参赛作品名称</label>
            <div class="layui-input-block">
                <input type="text" name="workName" id="workName" autocomplete="off" placeholder="请输入参赛作品名称" class="layui-input" lay-verify="required" >
            </div>
        </div>
        <!-- 预算金额：必写 -->
        <div class="layui-form-item">
            <label class="layui-form-label">预算金额<span style="color: red">*</span></label>
            <div class="layui-input-inline">
                <input type="text" name="price_min" lay-verify="required|number" autocomplete="off" class="layui-input">
            </div>
        </div>
        <!-- 预算描述:必写 -->
        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">预算描述<span style="color: red">*</span></label>
            <div class="layui-input-block">
                <textarea name="desc" placeholder="请输入内容" lay-verify="required" class="layui-textarea"></textarea>
            </div>
        </div>
        <!-- 申请状态：0.未审核，1审核不通过，2审核通过，样式待定 -->

        <!-- 上传凭证附件：必填 -->
        <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
            <legend>上传多张凭证图片<span style="color: red">*</span></legend>
        </fieldset>

        <div class="layui-upload">
            <button type="button" class="layui-btn" id="test2" >多图片上传</button>
            <blockquote class="layui-elem-quote layui-quote-nm" style="margin-top: 10px;">
                预览图：
                <div class="layui-upload-list" id="demo2"></div>
            </blockquote>
        </div>
        <div class="layui-form-item">
            <div class="layui-input-block">
                <button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
            </div>
        </div>
    </form>
</div>

<script>
    layui.use('laydate', function(){
        var laydate = layui.laydate;
        //执行一个laydate实例
        laydate.render({
          elem: '#cyear' //指定元素
        });
    });
</script>

<!--<script>-->
<!--    layui.use(['laydate','form','upload'], function(){-->
<!--        var $ = layui.jquery-->
<!--        var laydate = layui.laydate;-->
<!--        var upload = layui.upload;-->
<!--        var form = layui.form;-->
<!--        //执行一个laydate实例-->
<!--        laydate.render({-->
<!--            elem: '#cyear' //指定元素-->
<!--        });-->
<!--        upload.render({-->
<!--            elem: '#test2'-->
<!--            ,url: '/upload/'-->
<!--            ,multiple: true-->
<!--            ,before: function(obj){-->
<!--                //预读本地文件示例，不支持ie8-->
<!--                obj.preview(function(index, file, result){-->
<!--                    $('#demo2').append('<img src="'+ result +'" alt="'+ file.name +'" class="layui-upload-img">')-->
<!--                });-->
<!--            }-->
<!--            ,done: function(res){-->
<!--                //上传完毕-->
<!--            }-->
<!--        });-->
<!--        form.on('select()',function(date){-->

<!--        });-->
<!--    });-->
<!--</script>-->
<!--获得比赛名称-获取选中行数据-->
<script type="text/html" id="toolbar_ctname">
    <div class="layui-btn-container">
        <button class="layui-btn layui-btn-sm" lay-event="getCheckData_ctname">获取选中行数据</button>
    </div>
</script>

<!--获得指导老师1-获取选中行数据-->
<script type="text/html" id="toolbar_teacher1Id">
    <div class="layui-btn-container">
        <button class="layui-btn layui-btn-sm" lay-event="getCheckData_teacher1Id">获取选中行数据</button>
    </div>
</script>

<!--获得指导老师2-获取选中行数据-->
<script type="text/html" id="toolbar_teacher2Id">
    <div class="layui-btn-container">
        <button class="layui-btn layui-btn-sm" lay-event="getCheckData_teacher2Id">获取选中行数据</button>
    </div>
</script>
<script>
    layui.config({
        base:'../../asserts/js/'
    }).use('application/form')
</script>
</body>
</html>